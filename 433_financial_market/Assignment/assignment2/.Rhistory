setwd("C:\Users\a\Desktop\work\2020_fall_notes\433_financial_market\Assignment\assignment2")
setwd("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2")
x <- read.csv("25_Portfolios_5x5.csv")
View(x)
View(x)
x <- read.csv("25_Portfolios_5x5.csv", skip = 15)
summary(lm(x$SMALL.LoBM~x$\))
summary(lm(x$SMALL.LoBM~x$ME1.BM2))
y <- as.numeric(x)
x$SMALL.LoBM
y <- x$SMALL.LoBM
z <- as.numeric(y)
lm(z~1)
summary(lm(z~1))
?read.csv
x <- read.csv("25_Portfolios_5x5.csv", skip = 15, as.is = "numeric")
x <- read.csv("25_Portfolios_5x5.csv", skip = 15, as.numeric)
x <- read.csv("25_Portfolios_5x5.csv", skip = 15, as.is = as.numeric)
x <- read.csv("25_Portfolios_5x5.csv", as.numeric, skip = 15)
t <- apply(x,as.numeric)
t <- apply(x,2, as.numeric)
t <- apply(x,FUN + as.numeric)
t <- apply(x,FUN = as.numeric)
for (i in names(x)){
x$i = as.numeric(x$i)
}
for (i in names(x)){
z = as.numeric(x$i)
}
for (i in names(x)){
print(i)
}
for (i in names(x)){
x[i]
}
for (i in names(x)){
x[i] = as.numeric(x[i])
}
x["BIG.HiBM"]
as.numeric(x["BIG.HiBM"])
as.numeric(x$BIG.HiBM)
lapply(x, function(x) as.numeric(as.character(x)))
x <- lapply(x, function(x) as.numeric(as.character(x)))
warnings()
sum(is.na(x))
lm(x$SMALL.LoBM ~ 1)
summary(lm(x$SMALL.LoBM ~ 1))\
summary(lm(x$SMALL.LoBM ~ 1))
a = lm(x$SMALL.LoBM ~ 1)
a$coefficients
View(a)
View(a)
b = summary(lm(x$SMALL.LoBM ~ 1))\
b = summary(lm(x$SMALL.LoBM ~ 1))
View(b)
b
b$coefficients
b$coefficients$Estimate
b$coefficients["Estimate"]
names(b)
names(b["coefficients"])
b["coefficients"]
x <- read.csv("25_Portfolio_5x5.csv",skip = 15)
for (i in names(x)){
x[i] = as.numeric(x[i])
print(i)
print(summary(lm(x[i]~1)))
}
for (i in names(x)){
print(summary(lm(x[i]~1)))
}
x
print(summary(lm(i~1,x)))
summary(lm(i~1,data = x))
summary(lm("SMALL.LoBM"~1,data = x))
summary(lm(SMALL.LoBM~1,data = x))
x[1]
x[2]
range(1,10)
range(1,10,1)
[1:10]
for (i in 1:25){
print(summary(lm(x[i]~1)))
}
x[1]
lm(x[1]~1)
lm(x[2]~1)
lm(as.numeric(x[1])~1)
for (i in 1:25){
print(summary(lm(x[,i]~1)))
}
x[,1]
x
d = data.frame(x)
d[,1]
lm(d[,1]~1)
lm(d[,2]~1)
summary(lm(d[,2]~1))
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
summary(lm(x[,i]~1))
print(summary(lm(x[,i]~1)))
print(summary(lm(x[,k]~1)))
for (k in 2:26) {
print(k)
}
for (k in 2:26) {
print(summary(lm(x[ ,k]~1)))
}
for (k in 2:26) {
print(k)
}
x[2]
x.names
names(X)
names(x)
x.col
x.col.names
colnames(x)
print(colnames(x)[k])
for (k in 2:26) {
print(colnames(x)[k])
print(summary(lm(x[ ,k]~1)))
}
a = lm(x[,2]~1)
library("AER")
coeftest(a, vcov. = NeweyWest(a, lag = 6))
?coeftest
install.packages("lmtest")
?coeftest
library(lmtes)
library(lmtest)
?coeftest
coeftest(a, vcov. = NeweyWest(a, lag = 6))
install.packages("sandwich")
coeftest(a, vcov. = NeweyWest(a, lag = 6))
library(sandwich)
coeftest(a, vcov. = NeweyWest(a, lag = 6))
x <- [1,2,3,4,5]
y <- [1,2,3,4,5]
x <- list([1,2,3,4,5])
y <- list([1,2,3,4,5])
a = list()
a <- c(1,2,3,4,5)
b <- c(1,2,3,4,5)
lm(a~b)
summary(lm(a~b))
setwd("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2")
x <- read.csv("25_Portfolio_5x5.csv",skip = 15)
setwd("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2")
getwd()
x <- read.csv("25_Portfolio_5x5.csv",skip = 15)
x <- read.csv("25_Portfolio_5x5.csv",skip = 15)
getwd()
x <- read.csv("25_Portfolio_5x5.csv",skip = 15)
x <- read.csv("25_Portfolios_5x5",skip = 15)
getwd()
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment225_Portfolio_5x5.csv",skip = 15)
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/25_Portfolio_5x5.csv",skip = 15)
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
for (k in 2:26) {
print(colnames(x)[k])
print(summary(lm(x[ ,k]~1)))
}
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
summary(lm(x$SMALL.LoBM ~ 1))
summary(lm(x$BIG.HiBM ~ 1))
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
library("AER")
install.packages("car")
install.packages("foreign")
library("AER")
library("AER")
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.LoBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.LoBM ~ 1), lag = 6))
summary(lm(x$BIG.HiBM ~ 1))
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
summary(lm(x$SMALL.HiBM ~ 1))
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
summary(x$SMALL.HiBM)
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(x)
x <- read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15)
x <- data.frame(x)
x
x <- x[1:1129,]
View(x)
View(x)
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))[1:1129,]
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))
x = x[1:1129,]
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))
x = x[1:1129,]
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
lm(x$SMALL.LoBM~1)
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))
x = x[1:1129,]
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
summary(x$SMALL.HiBM)
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x[1]
x[,1]
x[1]
x[1,]
a <- c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
lm(x[1,]~a)
type(a)
summary(a)
lm(as.vector(x[1,])~a)
lm(as.vector(unlist(x[1,]))~a)
b = as.vector(unlist(x[1,]))
b = as.vector(unlist(x[1,]))[2:26]
lm(as.vector(unlist(x[1,]))[2:26]~a)
summary(lm(as.vector(unlist(x[1,]))[2:26]~a))
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))
x = x[1:1129,]
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
diff <- x$SMALL.HiBM - x$BIG.LoBM
coeftest(lm(diff ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
#for (k in 2:26) {
#  print(colnames(x)[k])
#  print(summary(lm(x[ ,k]~1)))
#}
x <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/5by5.csv",skip = 15))
x = x[1:1129,]
x <- data.frame(lapply(x, function(x) as.numeric(as.character(x))))
coeftest(lm(x$SMALL.HiBM ~ 1), vcov. = NeweyWest(lm(x$SMALL.HiBM ~ 1), lag = 6))
coeftest(lm(x$BIG.LoBM ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
diff <- x$SMALL.HiBM - x$BIG.LoBM
coeftest(lm(diff ~ 1), vcov. = NeweyWest(lm(x$BIG.LoBM ~ 1), lag = 6))
summary(lm(as.vector(unlist(x[1,]))[2:26]~a))
summary(lm(as.vector(unlist(x[1,]))[2:26]~a))$coefficient
test = summary(lm(as.vector(unlist(x[1,]))[2:26]~a))$coefficient
test = summary(lm(as.vector(unlist(x[1,]))[2:26]~a))$coefficient[1,1]
test = summary(lm(as.vector(unlist(x[1,]))[2:26]~a))$coefficient
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for month in 1:1{
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
summary(lm(cross_section ~ size))
}
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
print(summary(lm(cross_section ~ size)))
}
test = list()
test[1] = 1
test[3] = 2
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1129){
size_coef = list()
bm_coef = list()
cross_section = as.vector(unlist(x[i,]))[2:26]
size_coef[i] = coeftest(lm(cross_section ~ size), vcov. = NeweyWest(lm(cross_section ~ size), lag = 6))
bm_coef[i] =   coeftest(lm(cross_section ~ bm),   vcov. = NeweyWest(lm(cross_section ~   bm), lag = 6))
}
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1){
size_coef = list()
bm_coef = list()
cross_section = as.vector(unlist(x[i,]))[2:26]
size_coef[i] = coeftest(lm(cross_section ~ size), vcov. = NeweyWest(lm(cross_section ~ size), lag = 6))
bm_coef[i] =   coeftest(lm(cross_section ~ bm),   vcov. = NeweyWest(lm(cross_section ~   bm), lag = 6))
}
coeftest(lm(cross_section ~ size), vcov. = NeweyWest(lm(cross_section ~ size), lag = 6))
a = coeftest(lm(cross_section ~ size), vcov. = NeweyWest(lm(cross_section ~ size), lag = 6))
a
a = data.frame(a)
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
print(coeftest(lm(cross_section ~ size + BM), vcov. = NeweyWest(lm(cross_section ~ size + BM), lag = 6)))
}
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
print(coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6)))
}
a = coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6))
a[1,1]
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
alpha_list = list()
size_list = list()
bm_list = list()
T = 1129
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
result = coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6)
alpha_list[i] = result[1,1]
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
alpha_list = list()
size_list = list()
bm_list = list()
T = 1129
for (i in 1:1){
cross_section = as.vector(unlist(x[i,]))[2:26]
result = coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6))
alpha_list[i] = result[1,1]
size_list[i] = result[2,1]
bm_list[i] = result[3,1]
}
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
alpha_list = list()
size_list = list()
bm_list = list()
T = 1129
for (i in 1:T){
cross_section = as.vector(unlist(x[i,]))[2:26]
result = coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6))
alpha_list[i] = result[1,1]
size_list[i] = result[2,1]
bm_list[i] = result[3,1]
}
mean(alpha_list)
average(alpha_list)
sum(is.na(alpha_list))
mean(alpha_list)
?mean
mean(alpha_list na.rm = True)
mean(alpha_list,na.rm = True)
mean(as.numeric(alpha_list),na.rm = True)
mean(as.numeric(alpha_list),na.rm = true)
mean(as.numeric(alpha_list))
mean(as.numeric(size_list))
mean(as.numeric(bm_list))
a = as.numeric(alpha_list)
a\
a
size = c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5)
bm =   c(1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5)
alpha_list = list()
size_list = list()
bm_list = list()
T = 1129
for (i in 1:T){
cross_section = as.vector(unlist(x[i,]))[2:26]
result = coeftest(lm(cross_section ~ size + bm), vcov. = NeweyWest(lm(cross_section ~ size + bm), lag = 6))
alpha_list[i] = result[1,1]
size_list[i] = result[2,1]
bm_list[i] = result[3,1]
}
alpha = as.numeric(alpha_list)
size = as.numeric(size_list)
bm = as.numeric(bm_list)
coeftest(lm(alpha ~ 1), vcov. = NeweyWest(lm(alpha ~ 1), lag = 6))
print(coeftest(lm(alpha ~ 1), vcov. = NeweyWest(lm(alpha ~ 1), lag = 6)))
print(coeftest(lm(size ~ 1), vcov. = NeweyWest(lm(size ~ 1), lag = 6)))
print(coeftest(lm(bm ~ 1), vcov. = NeweyWest(lm(bm ~ 1), lag = 6)))
y <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/Portfolios_Formed_on_BETA.csv.csv",skip = 15))
y <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/BETA.csv",skip = 15))
y <- data.frame(lapply(y, function(y) as.numeric(as.character(y))))
View(y)
View(y)
View(y)
y <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/BETA.csv",skip = 15))
y <- data.frame(lapply(y, function(y) as.numeric(as.character(y))))
y <- y[1:685,]
y <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/BETA.csv",skip = 15))
y <- data.frame(lapply(y, function(y) as.numeric(as.character(y))))
y <- y[1:685,]
T2 <- 685
BETA = c(1,2,3,4,5,6,7,8,9,10)
beta = list()
for (i in 1:T2){
cross_section = as.vector(unlist(y[i,]))[7:16]
beta[i] = coeftest(lm(cross_section ~ BETA), vcov. = NeweyWest(lm(cross_section ~ BETA), lag = 6))[1,1]
}
beta
beta = as.numeric(beta)
beta
y <- data.frame(read.csv("C:/Users/a/Desktop/work/2020_fall_notes/433_financial_market/Assignment/assignment2/BETA.csv",skip = 15))
y <- data.frame(lapply(y, function(y) as.numeric(as.character(y))))
y <- y[1:685,]
T2 <- 685
BETA = c(1,2,3,4,5,6,7,8,9,10)
beta = list()
for (i in 1:T2){
cross_section = as.vector(unlist(y[i,]))[7:16]
beta[i] = coeftest(lm(cross_section ~ BETA), vcov. = NeweyWest(lm(cross_section ~ BETA), lag = 6))[1,1]
}
beta = as.numeric(beta)
print(coeftest(lm(beta ~ 1), vcov. = NeweyWest(lm(beta ~ 1), lag = 6)))
